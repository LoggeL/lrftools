import{c as oe,k as re,Q as ie}from"./QBtn.b54b9205.js";import{u as se,a as fe,b as de,c as ce,d as me,f as ge,g as ve,h as J,i as he,Q as ke,e as xe}from"./export-file.3774c095.js";import{r as T,w as z,b as L,a2 as we,j as Me,c as P,a as ye,o as ne,h as D,g as be,v as Y,F as Ce,O as Ve,Y as j,J as U,I as X,z as ee,a3 as te,Q as Se}from"./index.df07fd90.js";import"./format.68d54bab.js";const ae={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Q={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ue=Object.keys(Q);ue.forEach(e=>{Q[e].regex=new RegExp(Q[e].pattern)});const Fe=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ue.join("")+"])|(.)","g"),le=/[.*+?^${}()|[\]\\]/g,w=String.fromCharCode(1),Re={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function pe(e,b,k,M){let v,m,p,F;const C=T(null),x=T(s());function A(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}z(()=>e.type+e.autogrow,c),z(()=>e.mask,t=>{if(t!==void 0)q(x.value,!0);else{const l=B(x.value);c(),e.modelValue!==l&&b("update:modelValue",l)}}),z(()=>e.fillMask+e.reverseFillMask,()=>{C.value===!0&&q(x.value,!0)}),z(()=>e.unmaskedValue,()=>{C.value===!0&&q(x.value)});function s(){if(c(),C.value===!0){const t=Z(B(e.modelValue));return e.fillMask!==!1?O(t):t}return e.modelValue}function d(t){if(t<v.length)return v.slice(-t);let l="",n=v;const u=n.indexOf(w);if(u>-1){for(let o=t-n.length;o>0;o--)l+=w;n=n.slice(0,u)+l+n.slice(u)}return n}function c(){if(C.value=e.mask!==void 0&&e.mask.length>0&&A(),C.value===!1){F=void 0,v="",m="";return}const t=ae[e.mask]===void 0?e.mask:ae[e.mask],l=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",n=l.replace(le,"\\$&"),u=[],o=[],r=[];let h=e.reverseFillMask===!0,i="",g="";t.replace(Fe,(S,I,a,y,_)=>{if(y!==void 0){const V=Q[y];r.push(V),g=V.negate,h===!0&&(o.push("(?:"+g+"+)?("+V.pattern+"+)?(?:"+g+"+)?("+V.pattern+"+)?"),h=!1),o.push("(?:"+g+"+)?("+V.pattern+")?")}else if(a!==void 0)i="\\"+(a==="\\"?"":a),r.push(a),u.push("([^"+i+"]+)?"+i+"?");else{const V=I!==void 0?I:_;i=V==="\\"?"\\\\\\\\":V.replace(le,"\\\\$&"),r.push(V),u.push("([^"+i+"]+)?"+i+"?")}});const E=new RegExp("^"+u.join("")+"("+(i===""?".":"[^"+i+"]")+"+)?"+(i===""?"":"["+i+"]*")+"$"),N=o.length-1,f=o.map((S,I)=>I===0&&e.reverseFillMask===!0?new RegExp("^"+n+"*"+S):I===N?new RegExp("^"+S+"("+(g===""?".":g)+"+)?"+(e.reverseFillMask===!0?"$":n+"*")):new RegExp("^"+S));p=r,F=S=>{const I=E.exec(S);I!==null&&(S=I.slice(1).join(""));const a=[],y=f.length;for(let _=0,V=S;_<y;_++){const G=f[_].exec(V);if(G===null)break;V=V.slice(G.shift().length),a.push(...G)}return a.length>0?a.join(""):S},v=r.map(S=>typeof S=="string"?S:w).join(""),m=v.split(w).join(l)}function q(t,l,n){const u=M.value,o=u.selectionEnd,r=u.value.length-o,h=B(t);l===!0&&c();const i=Z(h),g=e.fillMask!==!1?O(i):i,E=x.value!==g;u.value!==g&&(u.value=g),E===!0&&(x.value=g),document.activeElement===u&&L(()=>{if(g===m){const f=e.reverseFillMask===!0?m.length:0;u.setSelectionRange(f,f,"forward");return}if(n==="insertFromPaste"&&e.reverseFillMask!==!0){const f=o-1;R.right(u,f,f);return}if(["deleteContentBackward","deleteContentForward"].indexOf(n)>-1){const f=e.reverseFillMask===!0?o===0?g.length>i.length?1:0:Math.max(0,g.length-(g===m?0:Math.min(i.length,r)+1))+1:o;u.setSelectionRange(f,f,"forward");return}if(e.reverseFillMask===!0)if(E===!0){const f=Math.max(0,g.length-(g===m?0:Math.min(i.length,r+1)));f===1&&o===1?u.setSelectionRange(f,f,"forward"):R.rightReverse(u,f,f)}else{const f=g.length-r;u.setSelectionRange(f,f,"backward")}else if(E===!0){const f=Math.max(0,v.indexOf(w),Math.min(i.length,o)-1);R.right(u,f,f)}else{const f=o-1;R.right(u,f,f)}});const N=e.unmaskedValue===!0?B(g):g;String(e.modelValue)!==N&&k(N,!0)}function W(t,l,n){const u=Z(B(t.value));l=Math.max(0,v.indexOf(w),Math.min(u.length,l)),t.setSelectionRange(l,n,"forward")}const R={left(t,l,n,u){const o=v.slice(l-1).indexOf(w)===-1;let r=Math.max(0,l-1);for(;r>=0;r--)if(v[r]===w){l=r,o===!0&&l++;break}if(r<0&&v[l]!==void 0&&v[l]!==w)return R.right(t,0,0);l>=0&&t.setSelectionRange(l,u===!0?n:l,"backward")},right(t,l,n,u){const o=t.value.length;let r=Math.min(o,n+1);for(;r<=o;r++)if(v[r]===w){n=r;break}else v[r-1]===w&&(n=r);if(r>o&&v[n-1]!==void 0&&v[n-1]!==w)return R.left(t,o,o);t.setSelectionRange(u?l:n,n,"forward")},leftReverse(t,l,n,u){const o=d(t.value.length);let r=Math.max(0,l-1);for(;r>=0;r--)if(o[r-1]===w){l=r;break}else if(o[r]===w&&(l=r,r===0))break;if(r<0&&o[l]!==void 0&&o[l]!==w)return R.rightReverse(t,0,0);l>=0&&t.setSelectionRange(l,u===!0?n:l,"backward")},rightReverse(t,l,n,u){const o=t.value.length,r=d(o),h=r.slice(0,n+1).indexOf(w)===-1;let i=Math.min(o,n+1);for(;i<=o;i++)if(r[i-1]===w){n=i,n>0&&h===!0&&n--;break}if(i>o&&r[n-1]!==void 0&&r[n-1]!==w)return R.leftReverse(t,o,o);t.setSelectionRange(u===!0?l:n,n,"forward")}};function H(t){if(we(t)===!0)return;const l=M.value,n=l.selectionStart,u=l.selectionEnd;if(t.keyCode===37||t.keyCode===39){const o=R[(t.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];t.preventDefault(),o(l,n,u,t.shiftKey)}else t.keyCode===8&&e.reverseFillMask!==!0&&n===u?R.left(l,n,u,!0):t.keyCode===46&&e.reverseFillMask===!0&&n===u&&R.rightReverse(l,n,u,!0)}function Z(t){if(t==null||t==="")return"";if(e.reverseFillMask===!0)return K(t);const l=p;let n=0,u="";for(let o=0;o<l.length;o++){const r=t[n],h=l[o];if(typeof h=="string")u+=h,r===h&&n++;else if(r!==void 0&&h.regex.test(r))u+=h.transform!==void 0?h.transform(r):r,n++;else return u}return u}function K(t){const l=p,n=v.indexOf(w);let u=t.length-1,o="";for(let r=l.length-1;r>=0&&u>-1;r--){const h=l[r];let i=t[u];if(typeof h=="string")o=h+o,i===h&&u--;else if(i!==void 0&&h.regex.test(i))do o=(h.transform!==void 0?h.transform(i):i)+o,u--,i=t[u];while(n===r&&i!==void 0&&h.regex.test(i));else return o}return o}function B(t){return typeof t!="string"||F===void 0?typeof t=="number"?F(""+t):t:F(t)}function O(t){return m.length-t.length<=0?t:e.reverseFillMask===!0&&t.length>0?m.slice(0,-t.length)+t:t+m.slice(t.length)}return{innerValue:x,hasMask:C,moveCursorForPaste:W,updateMaskValue:q,onMaskedKeydown:H}}const Ae=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Ee=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Te=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Ie=/[a-z0-9_ -]$/i;function _e(e){return function(k){if(k.type==="compositionend"||k.type==="change"){if(k.target.qComposing!==!0)return;k.target.qComposing=!1,e(k)}else k.type==="compositionupdate"&&k.target.qComposing!==!0&&typeof k.data=="string"&&(Me.is.firefox===!0?Ie.test(k.data)===!1:Ae.test(k.data)===!0||Ee.test(k.data)===!0||Te.test(k.data)===!0)===!0&&(k.target.qComposing=!0)}}const $=oe({name:"QInput",inheritAttrs:!1,props:{...se,...Re,...fe,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...de,"paste","change"],setup(e,{emit:b,attrs:k}){const{proxy:M}=be(),{$q:v}=M,m={};let p=NaN,F,C,x,A;const s=T(null),d=ce(e),{innerValue:c,hasMask:q,moveCursorForPaste:W,updateMaskValue:R,onMaskedKeydown:H}=pe(e,b,g,s),Z=me(e,!0),K=P(()=>J(c.value)),B=_e(i),O=ge(),t=P(()=>e.type==="textarea"||e.autogrow===!0),l=P(()=>t.value===!0||["text","search","url","tel","password"].includes(e.type)),n=P(()=>{const a={...O.splitAttrs.listeners.value,onInput:i,onPaste:h,onChange:N,onBlur:f,onFocus:Y};return a.onCompositionstart=a.onCompositionupdate=a.onCompositionend=B,q.value===!0&&(a.onKeydown=H),e.autogrow===!0&&(a.onAnimationend=E),a}),u=P(()=>{const a={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:d.value,...O.splitAttrs.attributes.value,id:O.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return t.value===!1&&(a.type=e.type),e.autogrow===!0&&(a.rows=1),a});z(()=>e.type,()=>{s.value&&(s.value.value=e.modelValue)}),z(()=>e.modelValue,a=>{if(q.value===!0){if(C===!0&&(C=!1,String(a)===p))return;R(a)}else c.value!==a&&(c.value=a,e.type==="number"&&m.hasOwnProperty("value")===!0&&(F===!0?F=!1:delete m.value));e.autogrow===!0&&L(E)}),z(()=>e.autogrow,a=>{a===!0?L(E):s.value!==null&&k.rows>0&&(s.value.style.height="auto")}),z(()=>e.dense,()=>{e.autogrow===!0&&L(E)});function o(){he(()=>{const a=document.activeElement;s.value!==null&&s.value!==a&&(a===null||a.id!==O.targetUid.value)&&s.value.focus({preventScroll:!0})})}function r(){s.value!==null&&s.value.select()}function h(a){if(q.value===!0&&e.reverseFillMask!==!0){const y=a.target;W(y,y.selectionStart,y.selectionEnd)}b("paste",a)}function i(a){if(!a||!a.target)return;if(e.type==="file"){b("update:modelValue",a.target.files);return}const y=a.target.value;if(a.target.qComposing===!0){m.value=y;return}if(q.value===!0)R(y,!1,a.inputType);else if(g(y),l.value===!0&&a.target===document.activeElement){const{selectionStart:_,selectionEnd:V}=a.target;_!==void 0&&V!==void 0&&L(()=>{a.target===document.activeElement&&y.indexOf(a.target.value)===0&&a.target.setSelectionRange(_,V)})}e.autogrow===!0&&E()}function g(a,y){A=()=>{e.type!=="number"&&m.hasOwnProperty("value")===!0&&delete m.value,e.modelValue!==a&&p!==a&&(p=a,y===!0&&(C=!0),b("update:modelValue",a),L(()=>{p===a&&(p=NaN)})),A=void 0},e.type==="number"&&(F=!0,m.value=a),e.debounce!==void 0?(clearTimeout(x),m.value=a,x=setTimeout(A,e.debounce)):A()}function E(){requestAnimationFrame(()=>{const a=s.value;if(a!==null){const y=a.parentNode.style,{overflow:_}=a.style;v.platform.is.firefox!==!0&&(a.style.overflow="hidden"),a.style.height="1px",y.marginBottom=a.scrollHeight-1+"px",a.style.height=a.scrollHeight+"px",a.style.overflow=_,y.marginBottom=""}})}function N(a){B(a),clearTimeout(x),A!==void 0&&A(),b("change",a.target.value)}function f(a){a!==void 0&&Y(a),clearTimeout(x),A!==void 0&&A(),F=!1,C=!1,delete m.value,e.type!=="file"&&setTimeout(()=>{s.value!==null&&(s.value.value=c.value!==void 0?c.value:"")})}function S(){return m.hasOwnProperty("value")===!0?m.value:c.value!==void 0?c.value:""}ye(()=>{f()}),ne(()=>{e.autogrow===!0&&E()}),Object.assign(O,{innerValue:c,fieldClass:P(()=>`q-${t.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:P(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:s,emitValue:g,hasValue:K,floatingLabel:P(()=>K.value===!0||J(e.displayValue)),getControl:()=>D(t.value===!0?"textarea":"input",{ref:s,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...u.value,...n.value,...e.type!=="file"?{value:S()}:Z.value}),getShadowControl:()=>D("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(t.value===!0?"":" text-no-wrap")},[D("span",{class:"invisible"},S()),D("span",e.shadowText)])});const I=ve(O);return Object.assign(M,{focus:o,select:r,getNativeElement:()=>s.value}),I}}),qe=j("h2",null,"Tile Generator",-1),Oe={class:"row"},Be={class:"col-3 q-pa-md q-gutter-sm"},Pe=j("h4",{class:"q-mb-xs"},"Settings",-1),Ue=j("span",{class:"q-ml-md"}," Download ",-1),je={class:"col q-pa-md q-gutter-sm"},ze={class:"q-mb-xs"},Ke={__name:"TileGeneratorPage",setup(e){const b=T(null),k=T(null),M=T(null),v=T("LRF"),m=T(100),p=T("#005a8d"),F=T(75),C=T(800);ne(()=>{});const x=()=>{k.value=URL.createObjectURL(b.value);const s=M.value.getContext("2d"),d=new Image;d.onload=()=>{console.log(d.width,d.height),M.value.width=C.value,M.value.height=d.height*(C.value/d.width),s.drawImage(d,0,0,M.value.width,M.value.height),s.fillStyle=p.value,s.globalAlpha=F.value/100,s.fillRect(0,0,M.value.width,M.value.height),s.globalAlpha=1,s.font=`bold ${m.value}px Roboto`,s.fillStyle="white",s.textAlign="center",s.textBaseline="middle",s.fillText(v.value,M.value.width/2,M.value.height/2)},d.src=k.value},A=()=>{M.value.toBlob(s=>{xe(b.value.name,s)})};return b.value&&x(),(s,d)=>(Ce(),Ve(Se,null,[qe,j("div",Oe,[j("div",Be,[Pe,U(ke,{modelValue:b.value,"onUpdate:modelValue":[d[0]||(d[0]=c=>b.value=c),x],label:"Select Source Image",filled:"",append:"",accept:"image/*",clearable:""},{prepend:X(()=>[U(ie,{name:"attach_file"})]),_:1},8,["modelValue"]),U($,{label:"Width",type:"number",filled:"",modelValue:C.value,"onUpdate:modelValue":[d[1]||(d[1]=c=>C.value=c),x],dense:""},null,8,["modelValue"]),U($,{label:"Fill Text",filled:"",modelValue:v.value,"onUpdate:modelValue":[d[2]||(d[2]=c=>v.value=c),x],dense:""},null,8,["modelValue"]),U($,{label:"Font Size",filled:"",modelValue:m.value,"onUpdate:modelValue":[d[3]||(d[3]=c=>m.value=c),x],dense:""},null,8,["modelValue"]),U($,{label:"Color",filled:"",modelValue:p.value,"onUpdate:modelValue":[d[4]||(d[4]=c=>p.value=c),x],dense:""},null,8,["modelValue"]),U($,{type:"number",label:"Opacity",max:"100",min:"0",filled:"",modelValue:F.value,"onUpdate:modelValue":[d[5]||(d[5]=c=>F.value=c),x],dense:""},null,8,["modelValue"]),U(re,{disable:!b.value,"dark-percentage":"",unelevated:"",color:"blue","text-color":"white",onClick:d[6]||(d[6]=c=>A()),icon:"download"},{default:X(()=>[Ue]),_:1},8,["disable"])]),j("div",je,[ee(j("h4",ze,"Output",512),[[te,b.value]]),ee(j("canvas",{ref_key:"canvas",ref:M},null,512),[[te,b.value]])])])],64))}};export{Ke as default};
